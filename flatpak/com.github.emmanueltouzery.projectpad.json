{
  "app-id": "com.github.emmanueltouzery.projectpad",
  "runtime": "org.kde.Platform",
  "runtime-version": "5.14",
  "sdk": "org.kde.Sdk",
  "command": "projectpad",
  "finish-args": [
    "--share=ipc",
    "--socket=fallback-x11",
    "--socket=wayland",
    "--device=dri",
    "--filesystem=home",
    "--share=network"
  ],
  "modules": [
    {
      "name": "projectpad",
      "buildsystem": "simple",
      "build-commands": [
        "find .",
        "stack build",
        "install -Dm755 ./target/release/projectpad -t /app/bin/",
        "install -Dm644 ./flatpak/${FLATPAK_ID}.metainfo.xml -t /app/share/metainfo/",
        "install -Dm644 ./${FLATPAK_ID}.desktop -t /app/share/applications/",
        "install -Dm644 ./${FLATPAK_ID}.svg -t /app/share/icons/hicolor/scalable/apps/"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://downloads.haskell.org/~ghc/8.2.2/ghc-8.2.2-x86_64-deb8-linux.tar.xz",
          "sha256": "48e205c62b9dc1ccf6739a4bc15a71e56dde2f891a9d786a1b115f0286111b2a"
        },
        {
          "type": "archive",
          "url": "https://github.com/commercialhaskell/stack/releases/download/v2.1.3/stack-2.1.3-linux-x86_64.tar.gz",
          "sha256": "c724b207831fe5f06b087bac7e01d33e61a1c9cad6be0468f9c117d383ec5673"
        },
        {
          "type": "git",
          "url": "https://github.com/emmanueltouzery/projectpad.git",
          "commit": "ed81b1880d0e51eb9c768bd0a838a3d599ce1093"
        },
        "dependencies.json"
      ]
    }
  ]
}
